<html><head>
<style> table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}th {
  background: lightblue;
}</style>
</head> <body><h1>SATD</h1><table><tr><th>satd id</th> <th>satd instance id</th>  <th>project</th> <th>committer name </th> <th> Commit Hash</th> <th>old comment</th> <th>New Comment</th> <th>resolution</th> <th>Method Signature</th> <th>Method Declaration</th> <th>Method Body</th> </tr><tr><td>2757</td> <td>-1422650571</td><td>apache/camel</td><td>Claus Ibsen</td><td>b67f5f903275776f619d536c172682965e14dcd3</td> <td>None</td> <td>TODO: we need to have the uri of the http server we called</td> <td>SATD_ADDED</td> <td>populateNettyHttpOperationFailedException(Exchange, HttpResponse, int, boolean)</td> <td>public static Exception populateNettyHttpOperationFailedException(Exchange exchange, HttpResponse response, int responseCode, boolean transferException)</td> <td>
    // TODO: we need to have the uri of the http server we called
    String uri = "TODO";
    String statusText = response.getStatus().getReasonPhrase();
    if (responseCode >= 300 && responseCode < 400) {
        String redirectLocation = response.getHeader("location");
        if (redirectLocation != null) {
            return new NettyHttpOperationFailedException(uri, responseCode, statusText, redirectLocation, response);
        } else {
            // no redirect location
            return new NettyHttpOperationFailedException(uri, responseCode, statusText, null, response);
        }
    }
    if (transferException) {
        String contentType = response.getHeader(Exchange.CONTENT_TYPE);
        if (NettyHttpConstants.CONTENT_TYPE_JAVA_SERIALIZED_OBJECT.equals(contentType)) {
            // if the response was a serialized exception then use that
            InputStream is = exchange.getContext().getTypeConverter().convertTo(InputStream.class, response);
            if (is != null) {
                try {
                    Object body = deserializeJavaObjectFromStream(is);
                    if (body instanceof Exception) {
                        return (Exception) body;
                    }
                } catch (Exception e) {
                    return e;
                } finally {
                    IOHelper.close(is);
                }
            }
        }
    }
    // internal server error (error code 500)
    return new NettyHttpOperationFailedException(uri, responseCode, statusText, null, response);
</td> </tr></table></body></html>