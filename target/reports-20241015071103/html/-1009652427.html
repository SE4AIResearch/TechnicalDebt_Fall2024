<html><head>
<style> table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}th {
  background: lightblue;
}</style>
</head> <body><h1>SATD</h1><table><tr><th>satd id</th> <th>satd instance id</th>  <th>project</th> <th>committer name </th> <th> Commit Hash</th> <th>old comment</th> <th>New Comment</th> <th>resolution</th> <th>Method Signature</th> <th>Method Declaration</th> <th>Method Body</th> </tr><tr><td>5295</td> <td>-1009652427</td><td>apache/hadoop</td><td>Eli Collins</td><td>a196766ea07775f18ded69bd9e8d239f8cfd3ccc</td> <td>None</td> <td>do the move</td> <td>SATD_ADDED</td> <td>unprotectedConcat(String, String[], long)</td> <td>public void unprotectedConcat(String target, String[] srcs, long timestamp) throws UnresolvedLinkException</td> <td>
    assert hasWriteLock();
    if (NameNode.stateChangeLog.isDebugEnabled()) {
        NameNode.stateChangeLog.debug("DIR* FSNamesystem.concat to " + target);
    }
    // do the move
    INode[] trgINodes = getExistingPathINodes(target);
    INodeFile trgInode = (INodeFile) trgINodes[trgINodes.length - 1];
    INodeDirectory trgParent = (INodeDirectory) trgINodes[trgINodes.length - 2];
    INodeFile[] allSrcInodes = new INodeFile[srcs.length];
    int i = 0;
    int totalBlocks = 0;
    for (String src : srcs) {
        INodeFile srcInode = getFileINode(src);
        allSrcInodes[i++] = srcInode;
        totalBlocks += srcInode.blocks.length;
    }
    // copy the blocks
    trgInode.appendBlocks(allSrcInodes, totalBlocks);
    // since we are in the same dir - we can use same parent to remove files
    int count = 0;
    for (INodeFile nodeToRemove : allSrcInodes) {
        if (nodeToRemove == null)
            continue;
        nodeToRemove.blocks = null;
        trgParent.removeChild(nodeToRemove);
        count++;
    }
    trgInode.setModificationTimeForce(timestamp);
    trgParent.setModificationTime(timestamp);
    // update quota on the parent directory ('count' files removed, 0 space)
    unprotectedUpdateCount(trgINodes, trgINodes.length - 1, -count, 0);
</td> </tr></table></body></html>