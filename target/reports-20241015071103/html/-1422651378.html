<html><head>
<style> table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}th {
  background: lightblue;
}</style>
</head> <body><h1>SATD</h1><table><tr><th>satd id</th> <th>satd instance id</th>  <th>project</th> <th>committer name </th> <th> Commit Hash</th> <th>old comment</th> <th>New Comment</th> <th>resolution</th> <th>Method Signature</th> <th>Method Declaration</th> <th>Method Body</th> </tr><tr><td>1298</td> <td>-1422651378</td><td>apache/camel</td><td>Hadrian Zbarcea</td><td>ca7ec898a5b5256fb886e00dca71a2bc8c006ed6</td> <td>None</td> <td>TODO: reduce complexity of this code</td> <td>SATD_ADDED</td> <td>createProxy()</td> <td>public InterceptFromDefinition createProxy()</td> <td>
    InterceptFromDefinition answer = new InterceptFromDefinition();
    answer.getOutputs().addAll(this.getOutputs());
    answer.setStopIntercept(getStopIntercept());
    // hack: now we need to replace the proceed of the proxy with its own
    // a bit ugly, operating based on the assumption that the proceed is
    // in its outputs (if proceed() was called) and/or in the
    // outputs of the otherwise or last when clause for the predicated version.
    if (answer.getOutputs().size() > 0) {
        // this is for the predicate version or if a choice() is present
        ChoiceDefinition choice = null;
        for (ProcessorDefinition processor : answer.getOutputs()) {
            if (processor instanceof ChoiceDefinition) {
                // special cases for predicates (choices)
                choice = (ChoiceDefinition) processor;
                // for the predicated version we add the proceed() to otherwise()
                // before knowing if stop() will follow, so let's make a small adjustment
                if (usePredicate && getStopIntercept()) {
                    WhenDefinition when = choice.getWhenClauses().get(0);
                    when.getOutputs().remove(this.getProceed());
                }
                // add proceed to the when clause
                addProceedProxy(this.getProceed(), answer.getProceed(), choice.getWhenClauses().get(choice.getWhenClauses().size() - 1), usePredicate && !getStopIntercept());
                // force adding a proceed at the end (otherwise) if its not a stop type
                addProceedProxy(this.getProceed(), answer.getProceed(), choice.getOtherwise(), !getStopIntercept());
                if (getStopIntercept()) {
                    // must add proceed to when clause if stop is explictiy declared, otherwise when the
                    // predicate test fails then there is no proceed
                    // See example: InterceptFromSimpleRouteTest (City Paris is never proceeded)
                    addProceedProxy(this.getProceed(), answer.getProceed(), choice.getWhenClauses().get(choice.getWhenClauses().size() - 1), usePredicate);
                }
                break;
            }
        }
        if (choice == null) {
            // force adding a proceed at the end if its not a stop type
            addProceedProxy(this.getProceed(), answer.getProceed(), answer, !getStopIntercept());
        }
    }
    return answer;
</td> </tr></table></body></html>