<html><head>
<style> table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}th {
  background: lightblue;
}</style>
</head> <body><h1>SATD</h1><table><tr><th>satd id</th> <th>satd instance id</th>  <th>project</th> <th>committer name </th> <th> Commit Hash</th> <th>old comment</th> <th>New Comment</th> <th>resolution</th> <th>Method Signature</th> <th>Method Declaration</th> <th>Method Body</th> </tr><tr><td>1086</td> <td>-1422651480</td><td>apache/camel</td><td>William Tam</td><td>afc13f621dde6a2a8dccdd07b1911bec61ebfb06</td> <td>None</td> <td>wait for seda consumer to start up properly</td> <td>SATD_ADDED</td> <td>testSendConcurrent()</td> <td>public void testSendConcurrent() throws Exception</td> <td>
    MockEndpoint mock = getMockEndpoint("mock:result");
    mock.expectedMessageCount(size);
    // wait for seda consumer to start up properly
    Thread.sleep(1000);
    ExecutorService executor = Executors.newCachedThreadPool();
    for (int i = 0; i < size; i++) {
        // sleep a little so we interleave with the marshaller
        try {
            Thread.sleep(1, 500);
        } catch (InterruptedException e) {
        // ignore
        }
        executor.execute(new Runnable() {

            public void run() {
                PurchaseOrder bean = new PurchaseOrder();
                bean.setName("Beer");
                bean.setAmount(23);
                bean.setPrice(2.5);
                template.sendBody("seda:start?size=" + size + "&concurrentConsumers=5", bean);
            }
        });
    }
    assertMockEndpointsSatisfied();
</td> </tr></table></body></html>