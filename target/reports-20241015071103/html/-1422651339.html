<html><head>
<style> table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}th {
  background: lightblue;
}</style>
</head> <body><h1>SATD</h1><table><tr><th>satd id</th> <th>satd instance id</th>  <th>project</th> <th>committer name </th> <th> Commit Hash</th> <th>old comment</th> <th>New Comment</th> <th>resolution</th> <th>Method Signature</th> <th>Method Declaration</th> <th>Method Body</th> </tr><tr><td>1389</td> <td>-1422651339</td><td>apache/camel</td><td>Claus Ibsen</td><td>ac96421c23cf2c52ba0c9d0e131383b16b1c5f7e</td> <td>None</td> <td>TODO: better check for size / parameters do not match up -> NPE</td> <td>SATD_ADDED</td> <td>createParametersExpression()</td> <td>protected Expression createParametersExpression()</td> <td>
    // TODO: better check for size / parameters do not match up -> NPE
    final int size = parameters.size();
    final Expression[] expressions = new Expression[size];
    for (int i = 0; i < size; i++) {
        Expression parameterExpression = parameters.get(i).getExpression();
        expressions[i] = parameterExpression;
    }
    return new Expression() {

        @SuppressWarnings("unchecked")
        public <T> T evaluate(Exchange exchange, Class<T> type) {
            Object[] answer = new Object[size];
            Object body = exchange.getIn().getBody();
            boolean multiParameterArray = false;
            if (exchange.getIn().getHeader(Exchange.BEAN_MULTI_PARAMETER_ARRAY) != null) {
                multiParameterArray = exchange.getIn().getHeader(Exchange.BEAN_MULTI_PARAMETER_ARRAY, Boolean.class);
            }
            for (int i = 0; i < size; i++) {
                Object value = null;
                if (multiParameterArray) {
                    value = ((Object[]) body)[i];
                } else {
                    value = expressions[i].evaluate(exchange, parameters.get(i).getType());
                }
                // now lets try to coerce the value to the required type
                answer[i] = value;
            }
            return (T) answer;
        }

        @Override
        public String toString() {
            return "ParametersExpression: " + Arrays.asList(expressions);
        }
    };
</td> </tr></table></body></html>