<html><head>
<style> table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}th {
  background: lightblue;
}</style>
</head> <body><h1>SATD</h1><table><tr><th>satd id</th> <th>satd instance id</th>  <th>project</th> <th>committer name </th> <th> Commit Hash</th> <th>old comment</th> <th>New Comment</th> <th>resolution</th> <th>Method Signature</th> <th>Method Declaration</th> <th>Method Body</th> </tr><tr><td>1166</td> <td>-1422651446</td><td>apache/camel</td><td>Claus Ibsen</td><td>b0bbfe3a5d7b06b53850f33c99f0c4072df15829</td> <td>an exception occurred while processing
TODO: Camel-585 somekind of flag to determine if we should send the exchange back to the client
or do as now where we wrap as runtime exception to be thrown back to spring so it can do rollback</td> <td>only throw exception if endpoint is not configured to transfer exceptions
back to caller</td> <td>SATD_REMOVED</td> <td>onMessage(Message)</td> <td>public void onMessage(final Message message)</td> <td>
    if (LOG.isDebugEnabled()) {
        LOG.debug(endpoint + " consumer receiving JMS message: " + message);
    }
    RuntimeCamelException rce = null;
    try {
        Destination replyDestination = getReplyToDestination(message);
        final JmsExchange exchange = createExchange(message, replyDestination);
        if (eagerLoadingOfProperties) {
            exchange.getIn().getHeaders();
        }
        // process the exchange
        processor.process(exchange);
        // get the correct jms message to send as reply
        JmsMessage body = null;
        Exception cause = null;
        boolean sendReply = false;
        if (exchange.isFailed()) {
            if (exchange.getException() != null) {
                // an exception occurred while processing
                if (endpoint.isTransferException()) {
                    // send the exception as reply
                    body = null;
                    cause = exchange.getException();
                    sendReply = true;
                } else {
                    // only throw exception if endpoint is not configured to transfer exceptions
                    // back to caller
                    rce = wrapRuntimeCamelException(exchange.getException());
                }
            } else if (exchange.getFault().getBody() != null) {
                // a fault occurred while processing
                body = exchange.getFault();
                sendReply = true;
            }
        } else {
            // process OK so get the reply
            body = exchange.getOut(false);
            sendReply = true;
        }
        // send the reply if we got a response and the exchange is out capable
        if (sendReply && !disableReplyTo && exchange.getPattern().isOutCapable()) {
            sendReply(replyDestination, message, exchange, body, cause);
        }
    } catch (Exception e) {
        rce = wrapRuntimeCamelException(e);
    }
    if (rce != null) {
        getExceptionHandler().handleException(rce);
        throw rce;
    }
</td> </tr></table></body></html>