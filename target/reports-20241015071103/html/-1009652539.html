<html><head>
<style> table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}th {
  background: lightblue;
}</style>
</head> <body><h1>SATD</h1><table><tr><th>satd id</th> <th>satd instance id</th>  <th>project</th> <th>committer name </th> <th> Commit Hash</th> <th>old comment</th> <th>New Comment</th> <th>resolution</th> <th>Method Signature</th> <th>Method Declaration</th> <th>Method Body</th> </tr><tr><td>5061</td> <td>-1009652539</td><td>apache/hadoop</td><td>Thomas White</td><td>4cecab7c10758cde1036b436d874b2b3a686a874</td> <td>None</td> <td>Asking the CodecPool for a decompressor for GzipCodec
should return null as well.</td> <td>SATD_ADDED</td> <td>testCodecPoolAndGzipDecompressor()</td> <td>public void testCodecPoolAndGzipDecompressor()</td> <td>
    // BuiltInZlibInflater should not be used as the GzipCodec decompressor.
    // Assert that this is the case.
    // Don't use native libs for this test.
    Configuration conf = new Configuration();
    conf.setBoolean("hadoop.native.lib", false);
    assertFalse("ZlibFactory is using native libs against request", ZlibFactory.isNativeZlibLoaded(conf));
    // This should give us a BuiltInZlibInflater.
    Decompressor zlibDecompressor = ZlibFactory.getZlibDecompressor(conf);
    assertNotNull("zlibDecompressor is null!", zlibDecompressor);
    assertTrue("ZlibFactory returned unexpected inflator", zlibDecompressor instanceof BuiltInZlibInflater);
    // Asking for a decompressor directly from GzipCodec should return null;
    // its createOutputStream() just wraps the existing stream in a
    // java.util.zip.GZIPOutputStream.
    CompressionCodecFactory ccf = new CompressionCodecFactory(conf);
    CompressionCodec codec = ccf.getCodec(new Path("foo.gz"));
    assertTrue("Codec for .gz file is not GzipCodec", codec instanceof GzipCodec);
    Decompressor codecDecompressor = codec.createDecompressor();
    if (null != codecDecompressor) {
        fail("Got non-null codecDecompressor: " + codecDecompressor);
    }
    // Asking the CodecPool for a decompressor for GzipCodec
    // should return null as well.
    Decompressor poolDecompressor = CodecPool.getDecompressor(codec);
    if (null != poolDecompressor) {
        fail("Got non-null poolDecompressor: " + poolDecompressor);
    }
    // If we then ensure that the pool is populated...
    CodecPool.returnDecompressor(zlibDecompressor);
    // Asking the pool another time should still not bind this to GzipCodec.
    poolDecompressor = CodecPool.getDecompressor(codec);
    if (null != poolDecompressor) {
        fail("Second time, got non-null poolDecompressor: " + poolDecompressor);
    }
</td> </tr></table></body></html>