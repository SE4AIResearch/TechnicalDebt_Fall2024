<html><head>
<style> table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}th {
  background: lightblue;
}</style>
</head> <body><h1>SATD</h1><table><tr><th>satd id</th> <th>satd instance id</th>  <th>project</th> <th>committer name </th> <th> Commit Hash</th> <th>old comment</th> <th>New Comment</th> <th>resolution</th> <th>Method Signature</th> <th>Method Declaration</th> <th>Method Body</th> </tr><tr><td>1779</td> <td>-1422651113</td><td>apache/camel</td><td>Claus Ibsen</td><td>81f0f16407b5631298ba9f6a67e283f53eb8029f</td> <td>None</td> <td>maybe its an expression to subtract a number after last</td> <td>SATD_ADDED</td> <td>lookupResult(Exchange, String, Object, boolean, String, Object)</td> <td>private Object lookupResult(Exchange exchange, String key, Object result, boolean elvis, String ognlPath, Object bean)</td> <td>
    // trim key
    key = key.trim();
    // try map first
    Map map = exchange.getContext().getTypeConverter().convertTo(Map.class, result);
    if (map != null) {
        return map.get(key);
    }
    // special for list is last keyword
    Integer num = exchange.getContext().getTypeConverter().convertTo(Integer.class, key);
    boolean checkList = key.startsWith("last") || num != null;
    if (checkList) {
        List list = exchange.getContext().getTypeConverter().convertTo(List.class, result);
        if (list != null) {
            if (key.startsWith("last")) {
                num = list.size() - 1;
                // maybe its an expression to subtract a number after last
                String after = ObjectHelper.after(key, "-");
                if (after != null) {
                    Integer redux = exchange.getContext().getTypeConverter().convertTo(Integer.class, after.trim());
                    if (redux != null) {
                        num -= redux;
                    } else {
                        throw new ExpressionIllegalSyntaxException(key);
                    }
                }
            }
            if (num != null && num >= 0 && list.size() > num - 1) {
                return list.get(num);
            }
            if (!elvis) {
                // not elvis then its mandatory so thrown out of bounds exception
                throw new IndexOutOfBoundsException("Index: " + num + ", Size: " + list.size() + " out of bounds with List from bean: " + bean + "using OGNL path [" + ognlPath + "]");
            }
        }
    }
    if (!elvis) {
        throw new IndexOutOfBoundsException("Key: " + key + " not found in bean: " + bean + " of type: " + ObjectHelper.classCanonicalName(bean) + " using OGNL path [" + ognlPath + "]");
    } else {
        // elvis so we can return null
        return null;
    }
</td> </tr></table></body></html>