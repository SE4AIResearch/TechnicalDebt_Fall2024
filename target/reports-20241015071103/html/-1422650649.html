<html><head>
<style> table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}th {
  background: lightblue;
}</style>
</head> <body><h1>SATD</h1><table><tr><th>satd id</th> <th>satd instance id</th>  <th>project</th> <th>committer name </th> <th> Commit Hash</th> <th>old comment</th> <th>New Comment</th> <th>resolution</th> <th>Method Signature</th> <th>Method Declaration</th> <th>Method Body</th> </tr><tr><td>2612</td> <td>-1422650649</td><td>apache/camel</td><td>Claus Ibsen</td><td>7c9b538c1fa25cb8bc147fc9be69f0b4573f4d8c</td> <td>None</td> <td>where should we publish to</td> <td>SATD_ADDED</td> <td>process(Exchange, AsyncCallback)</td> <td>public boolean process(final Exchange exchange, final AsyncCallback callback)</td> <td>
    byte[] body = exchange.getIn().getBody(byte[].class);
    if (body != null) {
        MQTTConfiguration configuration = mqttEndpoint.getConfiguration();
        boolean retain = exchange.getProperty(configuration.getMqttRetainPropertyName(), configuration.isByDefaultRetain(), Boolean.class);
        QoS qoS = configuration.getQoS();
        Object qoSValue = exchange.getProperty(configuration.getMqttQosPropertyName());
        if (qoSValue != null) {
            qoS = MQTTConfiguration.getQoS(qoSValue.toString());
        }
        // where should we publish to
        String topicName = configuration.getPublishTopicName();
        Object topicValue = exchange.getProperty(configuration.getMqttTopicPropertyName());
        if (topicValue != null) {
            topicName = topicValue.toString();
        }
        final String name = topicName;
        try {
            log.debug("Publishing to {}", name);
            mqttEndpoint.publish(name, body, qoS, retain, new Callback<Void>() {

                @Override
                public void onSuccess(Void aVoid) {
                    log.trace("onSuccess from {}", name);
                    callback.done(false);
                }

                @Override
                public void onFailure(Throwable throwable) {
                    log.trace("onFailure from {}", name);
                    exchange.setException(throwable);
                    callback.done(false);
                }
            });
        } catch (Exception e) {
            exchange.setException(e);
            callback.done(true);
            return true;
        }
        // we continue async, as the mqtt endpoint will invoke the callback when its done
        return false;
    } else {
        // no data to send so we are done
        log.trace("No data to publish");
        callback.done(true);
        return true;
    }
</td> </tr></table></body></html>