<html><head>
<style> table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}th {
  background: lightblue;
}</style>
</head> <body><h1>SATD</h1><table><tr><th>satd id</th> <th>satd instance id</th>  <th>project</th> <th>committer name </th> <th> Commit Hash</th> <th>old comment</th> <th>New Comment</th> <th>resolution</th> <th>Method Signature</th> <th>Method Declaration</th> <th>Method Body</th> </tr><tr><td>5673</td> <td>-1009651956</td><td>apache/hadoop</td><td>Tsz-wo Sze</td><td>cabec474e0f4c525ba80bd7c8dede1a8d76e4f39</td> <td>// Set the policy to default policy to place the block in the default way
setBlockPlacementPolicy(namesystem, new BlockPlacementPolicyDefault(</td> <td>verify that every adjacent 4 blocks are on differnt nodes</td> <td>SATD_REMOVED</td> <td>testChooseTargetForHarRaidFile()</td> <td>public void testChooseTargetForHarRaidFile() throws IOException</td> <td>
    setupCluster();
    try {
        String[] racks = { "/rack2", "/rack2", "/rack2", "/rack2", "/rack2", "/rack2" };
        String[] hosts = { "host2.rack2.com", "host3.rack2.com", "host4.rack2.com", "host5.rack2.com", "host6.rack2.com", "host7.rack2.com" };
        cluster.startDataNodes(conf, 6, true, null, racks, hosts, null);
        String harParity = raidrsHarTempPrefix + "/dir/file";
        int numBlocks = 11;
        DFSTestUtil.createFile(fs, new Path(harParity), numBlocks, (short) 1, 0L);
        DFSTestUtil.waitReplication(fs, new Path(harParity), (short) 1);
        FileStatus stat = fs.getFileStatus(new Path(harParity));
        BlockLocation[] loc = fs.getFileBlockLocations(stat, 0, stat.getLen());
        int rsParityLength = RaidNode.rsParityLength(conf);
        for (int i = 0; i < numBlocks - rsParityLength; i++) {
            Set<String> locations = new HashSet<String>();
            for (int j = 0; j < rsParityLength; j++) {
                for (int k = 0; k < loc[i + j].getNames().length; k++) {
                    // verify that every adjacent 4 blocks are on differnt nodes
                    String name = loc[i + j].getNames()[k];
                    LOG.info("Har Raid block location: " + name);
                    Assert.assertTrue(locations.add(name));
                }
            }
        }
    } finally {
        if (cluster != null) {
            cluster.shutdown();
        }
    }
</td> </tr></table></body></html>