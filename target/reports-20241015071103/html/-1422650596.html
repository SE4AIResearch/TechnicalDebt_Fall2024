<html><head>
<style> table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}th {
  background: lightblue;
}</style>
</head> <body><h1>SATD</h1><table><tr><th>satd id</th> <th>satd instance id</th>  <th>project</th> <th>committer name </th> <th> Commit Hash</th> <th>old comment</th> <th>New Comment</th> <th>resolution</th> <th>Method Signature</th> <th>Method Declaration</th> <th>Method Body</th> </tr><tr><td>2707</td> <td>-1422650596</td><td>apache/camel</td><td>Claus Ibsen</td><td>7ebcc7c140490475b13210efe22ff90075a0f4f7</td> <td>None</td> <td>TODO: Jetty has a bug in its client so use http for now</td> <td>SATD_ADDED</td> <td>createRouteBuilder()</td> <td>protected RouteBuilder createRouteBuilder() throws Exception</td> <td>
    return new RouteBuilder() {

        public void configure() {
            port1 = getPort();
            port2 = getNextPort();
            errorHandler(noErrorHandler());
            Processor serviceProc = new Processor() {

                public void process(Exchange exchange) throws Exception {
                    // %2B becomes decoded to a space
                    Object s = exchange.getIn().getHeader("param1");
                    assertEquals(" 447777111222", exchange.getIn().getHeader("param1"));
                    // and in the http query %20 becomes a + sign
                    assertEquals("param1=+447777111222", exchange.getIn().getHeader(Exchange.HTTP_QUERY));
                    // send back the query
                    exchange.getOut().setBody(exchange.getIn().getHeader(Exchange.HTTP_QUERY));
                }
            };
            from("jetty://http://localhost:" + port2 + "/jettyTestRouteA?matchOnUriPrefix=true").log("Using JettyTestRouteA route: CamelHttpPath=[${header.CamelHttpPath}], CamelHttpUri=[${header.CamelHttpUri}]").to("http://localhost:" + port1 + "/jettyTestRouteB?throwExceptionOnFailure=false&bridgeEndpoint=true");
            from("jetty://http://localhost:" + port1 + "/jettyTestRouteB?matchOnUriPrefix=true").log("Using JettyTestRouteB route: CamelHttpPath=[${header.CamelHttpPath}], CamelHttpUri=[${header.CamelHttpUri}]").process(serviceProc);
        }
    };
</td> </tr></table></body></html>