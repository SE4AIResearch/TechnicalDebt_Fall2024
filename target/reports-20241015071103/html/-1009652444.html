<html><head>
<style> table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}th {
  background: lightblue;
}</style>
</head> <body><h1>SATD</h1><table><tr><th>satd id</th> <th>satd instance id</th>  <th>project</th> <th>committer name </th> <th> Commit Hash</th> <th>old comment</th> <th>New Comment</th> <th>resolution</th> <th>Method Signature</th> <th>Method Declaration</th> <th>Method Body</th> </tr><tr><td>5278</td> <td>-1009652444</td><td>apache/hadoop</td><td>Eli Collins</td><td>a196766ea07775f18ded69bd9e8d239f8cfd3ccc</td> <td>None</td> <td>Its alright for a dir not to exist, or to exist (properly accessible)
and be completely empty.</td> <td>SATD_ADDED</td> <td>format(Configuration, boolean)</td> <td>private static boolean format(Configuration conf, boolean isConfirmationNeeded) throws IOException</td> <td>
    if (!conf.getBoolean(DFSConfigKeys.DFS_NAMENODE_SUPPORT_ALLOW_FORMAT_KEY, DFSConfigKeys.DFS_NAMENODE_SUPPORT_ALLOW_FORMAT_DEFAULT)) {
        throw new IOException("The option " + DFSConfigKeys.DFS_NAMENODE_SUPPORT_ALLOW_FORMAT_KEY + " is set to false for this filesystem, so it " + "cannot be formatted. You will need to set " + DFSConfigKeys.DFS_NAMENODE_SUPPORT_ALLOW_FORMAT_KEY + " parameter " + "to true in order to format this filesystem");
    }
    Collection<URI> dirsToFormat = FSNamesystem.getNamespaceDirs(conf);
    Collection<URI> editDirsToFormat = FSNamesystem.getNamespaceEditsDirs(conf);
    for (Iterator<URI> it = dirsToFormat.iterator(); it.hasNext(); ) {
        File curDir = new File(it.next().getPath());
        // Its alright for a dir not to exist, or to exist (properly accessible)
        // and be completely empty.
        if (!curDir.exists() || (curDir.isDirectory() && FileUtil.listFiles(curDir).length == 0))
            continue;
        if (isConfirmationNeeded) {
            if (!confirmPrompt("Re-format filesystem in " + curDir + " ?")) {
                System.err.println("Format aborted in " + curDir);
                return true;
            }
        }
    }
    // if clusterID is not provided - see if you can find the current one
    String clusterId = StartupOption.FORMAT.getClusterId();
    if (clusterId == null || clusterId.equals("")) {
        // Generate a new cluster id
        clusterId = NNStorage.newClusterID();
    }
    System.out.println("Formatting using clusterid: " + clusterId);
    FSImage fsImage = new FSImage(dirsToFormat, editDirsToFormat);
    FSNamesystem nsys = new FSNamesystem(fsImage, conf);
    nsys.dir.fsImage.getStorage().format(clusterId);
    return false;
</td> </tr></table></body></html>