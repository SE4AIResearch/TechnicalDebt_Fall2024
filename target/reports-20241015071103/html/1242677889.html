<html><head>
<style> table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}th {
  background: lightblue;
}</style>
</head> <body><h1>SATD</h1><table><tr><th>satd id</th> <th>satd instance id</th>  <th>project</th> <th>committer name </th> <th> Commit Hash</th> <th>old comment</th> <th>New Comment</th> <th>resolution</th> <th>Method Signature</th> <th>Method Declaration</th> <th>Method Body</th> </tr><tr><td>4428</td> <td>1242677889</td><td>GerritCodeReview/gerrit</td><td>Shawn Pearce</td><td>0694374875276bfd80d3b0705e55a8af693beb8b</td> <td>None</td> <td>Hack off leading '/'</td> <td>SATD_ADDED</td> <td>doGet(HttpServletRequest, HttpServletResponse)</td> <td>protected void doGet(HttpServletRequest req, HttpServletResponse rsp) throws IOException</td> <td>
    AvatarProvider avatarProvider = avatarProviderItem.get();
    if (avatarProvider == null) {
        rsp.sendError(HttpServletResponse.SC_NOT_FOUND);
        return;
    }
    String user = req.getPathInfo();
    if (user == null) {
        rsp.sendError(HttpServletResponse.SC_NOT_FOUND);
        return;
    }
    // Hack off leading '/'
    user = user.substring(1);
    final Account account;
    try {
        account = accountResolver.find(user);
    } catch (OrmException e1) {
        log.error("Exception while looking up avatar for user: " + user, e1);
        rsp.sendError(HttpServletResponse.SC_NOT_FOUND);
        return;
    }
    if (account == null) {
        // Account was not found.
        rsp.sendError(HttpServletResponse.SC_NOT_FOUND);
        return;
    }
    String size = req.getParameter("size");
    int imageSize = 0;
    if (size != null) {
        try {
            imageSize = Integer.parseInt(size);
        } catch (NumberFormatException e) {
        // Ignore, keep size at 0.
        }
    }
    final String url = avatarProvider.getUrl(account, imageSize);
    if (url == null) {
        rsp.sendError(HttpServletResponse.SC_NOT_FOUND);
    } else {
        rsp.sendRedirect(rsp.encodeRedirectURL(url));
    }
</td> </tr></table></body></html>