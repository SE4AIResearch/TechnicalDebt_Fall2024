<html><head>
<style> table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}th {
  background: lightblue;
}</style>
</head> <body><h1>SATD</h1><table><tr><th>satd id</th> <th>satd instance id</th>  <th>project</th> <th>committer name </th> <th> Commit Hash</th> <th>old comment</th> <th>New Comment</th> <th>resolution</th> <th>Method Signature</th> <th>Method Declaration</th> <th>Method Body</th> </tr><tr><td>4000</td> <td>1242677669</td><td>GerritCodeReview/gerrit</td><td>Shawn O. Pearce</td><td>641f57a73c7adfcf7786f315b559da9e7cbe576a</td> <td>None</td> <td>TODO refresh change screen</td> <td>SATD_ADDED</td> <td>populateActions(PatchSetDetail)</td> <td>private void populateActions(final PatchSetDetail detail)</td> <td>
    final Set<ApprovalCategory.Id> allowed = changeDetail.getCurrentActions();
    if (allowed == null) {
        // No set of actions, perhaps the user is not signed in?
        return;
    }
    for (final ApprovalType at : Common.getGerritConfig().getActionTypes()) {
        final ApprovalCategoryValue max = at.getMax();
        if (max == null || max.getValue() <= 0) {
            // No positive assertion, don't draw a button.
            continue;
        }
        if (!allowed.contains(at.getCategory().getId())) {
            // User isn't permitted to invoke this.
            continue;
        }
        final Button b = new Button(Util.M.patchSetAction(at.getCategory().getName(), detail.getPatchSet().getPatchSetId()));
        b.addClickListener(new ClickListener() {

            public void onClick(Widget sender) {
                Util.MANAGE_SVC.patchSetAction(max.getId(), patchSet.getId(), new GerritCallback<VoidResult>() {

                    public void onSuccess(VoidResult result) {
                        // TODO refresh change screen
                        actionsPanel.remove(b);
                    }
                });
            }
        });
        actionsPanel.add(b);
    }
</td> </tr></table></body></html>