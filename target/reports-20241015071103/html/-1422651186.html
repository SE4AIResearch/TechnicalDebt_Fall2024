<html><head>
<style> table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}th {
  background: lightblue;
}</style>
</head> <body><h1>SATD</h1><table><tr><th>satd id</th> <th>satd instance id</th>  <th>project</th> <th>committer name </th> <th> Commit Hash</th> <th>old comment</th> <th>New Comment</th> <th>resolution</th> <th>Method Signature</th> <th>Method Declaration</th> <th>Method Body</th> </tr><tr><td>1661</td> <td>-1422651186</td><td>apache/camel</td><td>Claus Ibsen</td><td>20845dffc73e0d0b1cba1e3d8221ebb7b72f8a2b</td> <td>None</td> <td>TODO: maybe it should be mandatory body?</td> <td>SATD_ADDED</td> <td>getParams(CxfEndpoint, Exchange)</td> <td>private Object[] getParams(CxfEndpoint endpoint, Exchange exchange)</td> <td>
    // TODO: this method should probably be more strict and validate (CAMEL-2195)
    Object[] params = null;
    if (endpoint.getDataFormat() == DataFormat.POJO) {
        List<?> list = exchange.getIn().getBody(List.class);
        if (list != null) {
            params = list.toArray();
        } else {
            // maybe we can iterate the body and that way create a list for the parameters
            // then end users do not need to trouble with List
            Iterator it = exchange.getIn().getBody(Iterator.class);
            if (it != null && it.hasNext()) {
                list = exchange.getContext().getTypeConverter().convertTo(List.class, it);
                if (list != null) {
                    params = list.toArray();
                }
            }
            if (params == null) {
                // no we could not then use the body as single parameter
                params = new Object[1];
                params[0] = exchange.getIn().getBody();
            }
        }
    } else if (endpoint.getDataFormat() == DataFormat.PAYLOAD) {
        params = new Object[1];
        // TODO: maybe it should be mandatory body?
        params[0] = exchange.getIn().getBody(CxfPayload.class);
    } else if (endpoint.getDataFormat() == DataFormat.MESSAGE) {
        params = new Object[1];
        // TODO: maybe it should be mandatory body?
        params[0] = exchange.getIn().getBody(InputStream.class);
    }
    if (LOG.isTraceEnabled()) {
        if (params instanceof Object[]) {
            for (int i = 0; i < params.length; i++) {
                LOG.trace("params[" + i + "] = " + params[i]);
            }
        } else {
            LOG.trace("params = " + params);
        }
    }
    return params;
</td> </tr></table></body></html>