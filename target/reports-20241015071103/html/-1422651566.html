<html><head>
<style> table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}th {
  background: lightblue;
}</style>
</head> <body><h1>SATD</h1><table><tr><th>satd id</th> <th>satd instance id</th>  <th>project</th> <th>committer name </th> <th> Commit Hash</th> <th>old comment</th> <th>New Comment</th> <th>resolution</th> <th>Method Signature</th> <th>Method Declaration</th> <th>Method Body</th> </tr><tr><td>873</td> <td>-1422651566</td><td>apache/camel</td><td>Willem Ning Jiang</td><td>b0af6b856c9f48441481f9391fa31673bf40ef1f</td> <td>None</td> <td>TODO: fix me</td> <td>SATD_ADDED</td> <td>testUsingADerivedExchange()</td> <td>public void testUsingADerivedExchange() throws Exception</td> <td>
    DefaultEndpoint endpoint = new DefaultEndpoint("foo", new DefaultComponent() {

        @Override
        protected Endpoint createEndpoint(String uri, String remaining, Map parameters) throws Exception {
            return null;
        }
    }) {

        public Consumer createConsumer(Processor processor) throws Exception {
            return null;
        }

        public Exchange createExchange(ExchangePattern pattern) {
            return new MyExchange(getCamelContext(), pattern);
        }

        public Producer createProducer() throws Exception {
            return null;
        }

        public boolean isSingleton() {
            return false;
        }
    };
    DefaultProducer producer = new DefaultProducer(endpoint) {

        public void process(Exchange exchange) throws Exception {
            log.debug("Received: " + exchange);
        }
    };
    // now lets try send in a normal exchange
    Exchange exchange = new DefaultExchange(context);
    producer.process(exchange);
    // TODO: fix me
    // Class<?> type = endpoint.getExchangeType();
    // assertEquals("exchange type", MyExchange.class, type);
    MyExchange actual = (MyExchange) endpoint.createExchange(exchange);
    assertNotNull(actual);
    assertTrue("Not same exchange", actual != exchange);
    MyExchange expected = new MyExchange(context, pattern);
    actual = (MyExchange) endpoint.createExchange(expected);
// TODO: fix me
// assertSame("Should not copy an exchange when of the correct type", expected, actual);
</td> </tr></table></body></html>