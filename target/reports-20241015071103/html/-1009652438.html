<html>
 <head> 
  <style> table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}th {
  background: lightblue;
}</style> 
 </head> 
 <body>
  <h1>SATD</h1>
  <table>
   <tbody>
    <tr>
     <th>satd id</th> 
     <th>satd instance id</th> 
     <th>project</th> 
     <th>committer name </th> 
     <th> Commit Hash</th> 
     <th>old comment</th> 
     <th>New Comment</th> 
     <th>resolution</th> 
     <th>Method Signature</th> 
     <th>Method Declaration</th> 
     <th>Method Body</th> 
    </tr>
    <tr>
     <td>5975</td> 
     <td>-1009652438</td>
     <td>apache/hadoop</td>
     <td>Steve Loughran</td>
     <td>28e6a4e44a3e920dcaf858f9a74a6358226b3a63</td> 
     <td>TODO bad dependency</td> 
     <td>TODO bad dependency</td> 
     <td>CLASS_OR_METHOD_CHANGED</td> 
     <td>save(File, long, FSNamesystem, FSImageCompression)</td> 
     <td> void save(File newFile, long txid, FSNamesystem sourceNamesystem, FSImageCompression compression) throws IOException</td> 
     <td> checkNotSaved(); FSDirectory fsDir = sourceNamesystem.dir; long startTime = now(); // // Write out data // MessageDigest digester = MD5Hash.getDigester(); FileOutputStream fout = new FileOutputStream(newFile); DigestOutputStream fos = new DigestOutputStream(fout, digester); DataOutputStream out = new DataOutputStream(fos); try { out.writeInt(FSConstants.LAYOUT_VERSION); out.writeInt(sourceNamesystem.getFSImage().getStorage().getNamespaceID()); out.writeLong(fsDir.rootDir.numItemsInTree()); out.writeLong(sourceNamesystem.getGenerationStamp()); out.writeLong(txid); // write compression info and set up compressed stream out = compression.writeHeaderAndWrapStream(fos); LOG.info("Saving image file " + newFile + " using " + compression); byte[] byteStore = new byte[4 * FSConstants.MAX_PATH_LENGTH]; ByteBuffer strbuf = ByteBuffer.wrap(byteStore); // save the root FSImageSerialization.saveINode2Image(fsDir.rootDir, out); // save the rest of the nodes saveImage(strbuf, fsDir.rootDir, out); // save files under construction sourceNamesystem.saveFilesUnderConstruction(out); sourceNamesystem.saveSecretManagerState(out); strbuf = null; out.flush(); fout.getChannel().force(true); } finally { out.close(); } saved = true; // set md5 of the saved image savedDigest = new MD5Hash(digester.digest()); LOG.info("Image file of size " + newFile.length() + " saved in " + (now() - startTime) / 1000 + " seconds."); </td> 
    </tr>
   </tbody>
   <tbody>
    <tr>
     <td>5284</td> 
     <td>-1009652438</td>
     <td>apache/hadoop</td>
     <td>Eli Collins</td>
     <td>a196766ea07775f18ded69bd9e8d239f8cfd3ccc</td> 
     <td>None</td> 
     <td>TODO bad dependency</td> 
     <td>SATD_ADDED</td> 
     <td>save(File, FSNamesystem, FSImageCompression)</td> 
     <td> void save(File newFile, FSNamesystem sourceNamesystem, FSImageCompression compression) throws IOException</td> 
     <td> checkNotSaved(); FSDirectory fsDir = sourceNamesystem.dir; long startTime = now(); // // Write out data // MessageDigest digester = MD5Hash.getDigester(); FileOutputStream fout = new FileOutputStream(newFile); DigestOutputStream fos = new DigestOutputStream(fout, digester); DataOutputStream out = new DataOutputStream(fos); try { out.writeInt(FSConstants.LAYOUT_VERSION); // TODO bad dependency out.writeInt(sourceNamesystem.getFSImage().getStorage().getNamespaceID()); out.writeLong(fsDir.rootDir.numItemsInTree()); out.writeLong(sourceNamesystem.getGenerationStamp()); // write compression info and set up compressed stream out = compression.writeHeaderAndWrapStream(fos); LOG.info("Saving image file " + newFile + " using " + compression); byte[] byteStore = new byte[4 * FSConstants.MAX_PATH_LENGTH]; ByteBuffer strbuf = ByteBuffer.wrap(byteStore); // save the root FSImageSerialization.saveINode2Image(fsDir.rootDir, out); // save the rest of the nodes saveImage(strbuf, fsDir.rootDir, out); // save files under construction sourceNamesystem.saveFilesUnderConstruction(out); sourceNamesystem.saveSecretManagerState(out); strbuf = null; out.flush(); fout.getChannel().force(true); } finally { out.close(); } saved = true; // set md5 of the saved image savedDigest = new MD5Hash(digester.digest()); LOG.info("Image file of size " + newFile.length() + " saved in " + (now() - startTime) / 1000 + " seconds."); </td> 
    </tr>
   </tbody>
  </table>
 </body>
</html>