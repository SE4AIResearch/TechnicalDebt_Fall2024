<html><head>
<style> table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}th {
  background: lightblue;
}</style>
</head> <body><h1>SATD</h1><table><tr><th>satd id</th> <th>satd instance id</th>  <th>project</th> <th>committer name </th> <th> Commit Hash</th> <th>old comment</th> <th>New Comment</th> <th>resolution</th> <th>Method Signature</th> <th>Method Declaration</th> <th>Method Body</th> </tr><tr><td>3379</td> <td>-1422650190</td><td>apache/camel</td><td>Claus Ibsen</td><td>fa7ad2c3196669a02b974ed34d64faed67ad08a2</td> <td>None</td> <td>TODO: split desc in multi lines so it does not overflow</td> <td>SATD_ADDED</td> <td>doExecute()</td> <td>protected Object doExecute() throws Exception</td> <td>
    List<Endpoint> endpoints = camelController.getEndpoints(name);
    final Map<String, Integer> columnWidths = computeColumnWidths(endpoints);
    final String headerFormat = buildFormatString(columnWidths, true);
    final String rowFormat = buildFormatString(columnWidths, false);
    final PrintStream out = System.out;
    if (endpoints.size() > 0) {
        out.println(String.format(headerFormat, CONTEXT_COLUMN_LABEL, URI_COLUMN_LABEL, STATUS_COLUMN_LABEL));
        out.println(String.format(headerFormat, "-------", "---", "------"));
        for (final Endpoint endpoint : endpoints) {
            String contextId = endpoint.getCamelContext().getName();
            String uri = endpoint.getEndpointUri();
            if (decode) {
                // decode uri so its more human readable
                uri = URLDecoder.decode(uri, "UTF-8");
            }
            // sanitize and mask uri so we dont see passwords
            uri = URISupport.sanitizeUri(uri);
            String state = getEndpointState(endpoint);
            out.println(String.format(rowFormat, contextId, uri, state));
            if (explain) {
                boolean first = true;
                String json = camelController.explainEndpoint(endpoint.getCamelContext().getName(), endpoint.getEndpointUri(), verbose);
                // use a basic json parser
                List<Map<String, String>> options = JsonSchemaHelper.parseJsonSchema(json);
                // lets sort the options by name
                Collections.sort(options, new Comparator<Map<String, String>>() {

                    @Override
                    public int compare(Map<String, String> o1, Map<String, String> o2) {
                        return o1.get("name").compareTo(o2.get("name"));
                    }
                });
                for (Map<String, String> option : options) {
                    String key = option.get("name");
                    String type = option.get("type");
                    String javaType = option.get("javaType");
                    String value = option.get("value");
                    String desc = option.get("description");
                    if (key != null && value != null) {
                        if (first) {
                            out.println();
                            first = false;
                        }
                        String line = "\t" + key + "=" + value;
                        out.println(String.format(rowFormat, "", line, ""));
                        if (type != null) {
                            String displayType = type;
                            if (javaType != null && !displayType.equals(javaType)) {
                                displayType = type + " (" + javaType + ")";
                            }
                            out.println(String.format(rowFormat, "", "\t" + displayType, ""));
                        }
                        if (desc != null) {
                            // TODO: split desc in multi lines so it does not overflow
                            out.println(String.format(rowFormat, "", "\t" + desc, ""));
                        }
                        out.println();
                    }
                }
            }
        }
    }
    return null;
</td> </tr></table></body></html>