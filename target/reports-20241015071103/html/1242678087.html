<html> 
 <head> 
  <style> table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}th {
  background: lightblue;
}</style> 
 </head> 
 <body> 
  <h1>SATD</h1> 
  <table> 
   <tbody> 
    <tr> 
     <th>satd id</th> 
     <th>satd instance id</th> 
     <th>project</th> 
     <th>committer name </th> 
     <th> Commit Hash</th> 
     <th>old comment</th> 
     <th>New Comment</th> 
     <th>resolution</th> 
     <th>Method Signature</th> 
     <th>Method Declaration</th> 
     <th>Method Body</th> 
    </tr> 
    <tr> 
     <td>4835</td> 
     <td>1242678087</td> 
     <td>GerritCodeReview/gerrit</td> 
     <td>Dave Borowitz</td> 
     <td>b8336f176afb28c2b7bdf193571df932ea819321</td> 
     <td>TODO(dborowitz): Backoff and retry on LOCK_FAILURE.</td> 
     <td>TODO(dborowitz): Backoff and retry on LOCK_FAILURE.</td> 
     <td>FILE_PATH_CHANGED</td> 
     <td>storeKeys(AccountResource, List<pgppublickeyring>
        , Set 
       <fingerprint>
         ) 
       </fingerprint> 
      </pgppublickeyring></td> 
     <td>private void storeKeys(AccountResource rsrc, List<pgppublickeyring>
        keyRings, Set 
       <fingerprint>
         toRemove) throws BadRequestException, ResourceConflictException, PGPException, IOException 
       </fingerprint> 
      </pgppublickeyring></td> 
     <td> try (PublicKeyStore store = storeProvider.get()) { for (PGPPublicKeyRing keyRing : keyRings) { PGPPublicKey key = keyRing.getPublicKey(); CheckResult result = checker.check(key); if (!result.isOk()) { throw new BadRequestException(String.format("Problems with public key %s:\n%s", keyToString(key), Joiner.on('\n').join(result.getProblems()))); } store.add(keyRing); } for (Fingerprint fp : toRemove) { store.remove(fp.get()); } CommitBuilder cb = new CommitBuilder(); PersonIdent committer = serverIdent.get(); cb.setAuthor(rsrc.getUser().newCommitterIdent(committer.getWhen(), committer.getTimeZone())); cb.setCommitter(committer); RefUpdate.Result saveResult = store.save(cb); switch(saveResult) { case NEW: case FAST_FORWARD: case FORCED: case NO_CHANGE: break; default: // TODO(dborowitz): Backoff and retry on LOCK_FAILURE. throw new ResourceConflictException("Failed to save public keys: " + saveResult); } } </td> 
    </tr> 
   </tbody> 
   <tbody> 
    <tr> 
     <td>4833</td> 
     <td>1242678087</td> 
     <td>GerritCodeReview/gerrit</td> 
     <td>Dave Borowitz</td> 
     <td>eab3aff03aac39a0c236aeb77f5a316f5bee097f</td> 
     <td>TODO(dborowitz): Backoff and retry on LOCK_FAILURE.</td> 
     <td>TODO(dborowitz): Backoff and retry on LOCK_FAILURE.</td> 
     <td>CLASS_OR_METHOD_CHANGED</td> 
     <td>storeKeys(AccountResource, List<pgppublickeyring>
        , Set 
       <fingerprint>
         ) 
       </fingerprint> 
      </pgppublickeyring></td> 
     <td>private void storeKeys(AccountResource rsrc, List<pgppublickeyring>
        keyRings, Set 
       <fingerprint>
         toRemove) throws BadRequestException, ResourceConflictException, PGPException, IOException 
       </fingerprint> 
      </pgppublickeyring></td> 
     <td> try (PublicKeyStore store = storeProvider.get()) { for (PGPPublicKeyRing keyRing : keyRings) { PGPPublicKey key = keyRing.getPublicKey(); CheckResult result = checker.check(key); if (!result.isOk()) { throw new BadRequestException(String.format("Problems with public key %s:\n%s", keyToString(key), Joiner.on('\n').join(result.getProblems()))); } store.add(keyRing); } for (Fingerprint fp : toRemove) { store.remove(fp.get()); } CommitBuilder cb = new CommitBuilder(); PersonIdent committer = serverIdent.get(); cb.setAuthor(rsrc.getUser().newCommitterIdent(committer.getWhen(), committer.getTimeZone())); cb.setCommitter(committer); RefUpdate.Result saveResult = store.save(cb); switch(saveResult) { case NEW: case FAST_FORWARD: case FORCED: case NO_CHANGE: break; default: // TODO(dborowitz): Backoff and retry on LOCK_FAILURE. throw new ResourceConflictException("Failed to save public keys: " + saveResult); } } </td> 
    </tr> 
   </tbody> 
   <tbody>
    <tr>
     <td>4830</td> 
     <td>1242678087</td>
     <td>GerritCodeReview/gerrit</td>
     <td>Dave Borowitz</td>
     <td>ed170f35f6bb3d8ec2e1fb4709bf119401ab1233</td> 
     <td>None</td> 
     <td>TODO(dborowitz): Backoff and retry on LOCK_FAILURE.</td> 
     <td>SATD_ADDED</td> 
     <td>storeKeys(AccountResource, List<pgppublickeyring>
       )
      </pgppublickeyring></td> 
     <td>private void storeKeys(AccountResource rsrc, List<pgppublickeyring>
        keyRings) throws BadRequestException, ResourceConflictException, PGPException, IOException
      </pgppublickeyring></td> 
     <td> try (PublicKeyStore store = storeProvider.get()) { for (PGPPublicKeyRing keyRing : keyRings) { PGPPublicKey key = keyRing.getPublicKey(); CheckResult result = checker.check(key); if (!result.isOk()) { throw new BadRequestException(String.format("Problems with public key %s:\n%s", keyToString(key), Joiner.on('\n').join(result.getProblems()))); } store.add(keyRing); } CommitBuilder cb = new CommitBuilder(); PersonIdent committer = serverIdent.get(); cb.setAuthor(rsrc.getUser().newCommitterIdent(committer.getWhen(), committer.getTimeZone())); cb.setCommitter(committer); RefUpdate.Result saveResult = store.save(cb); switch(saveResult) { case NEW: case FAST_FORWARD: case FORCED: break; default: // TODO(dborowitz): Backoff and retry on LOCK_FAILURE. throw new ResourceConflictException("Failed to save public key: " + saveResult); } } </td> 
    </tr>
   </tbody>
  </table>  
 </body>
</html>